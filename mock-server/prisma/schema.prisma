datasource db {
  provider = "postgresql"
}

generator client {
  provider = "prisma-client"
  output   = "../src/.prisma"
}

model Collection {
  id          String   @id @default(uuid())
  name        String
  slug        String   @unique
  description String?
  config      Json     @default("{}")
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  records Record[]
}

model Record {
  id           String     @id @default(uuid())
  collectionId String
  data         Json
  createdAt    DateTime   @default(now())
  updatedAt    DateTime   @updatedAt

  collection Collection @relation(fields: [collectionId], references: [id], onDelete: Cascade)

  @@index([collectionId])
}

